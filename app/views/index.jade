html
  head
    - var title = title || 'Exchange Volumes'
    title= title
    link(rel='stylesheet', href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css')
    link(rel='stylesheet', href='/css/app.css')
  body
    header
        div.container
            h4 Crypto Volumes       
    div.container
        div.row
            div.col-sm-12
                div.precontent
                    div.row
                        div.col-sm-6.col-lg-3
                            div.precontent-item
                                p 24HR Volume($) 
                                p $#{totalvol}
                        div.col-sm-6.col-lg-3
                            div.precontent-item
                                p 24HR Volume(B)
                                p 1234
                        div.col-sm-6.col-lg-3
                            div.precontent-item
                                p Change 24HR
                                p 4.5%
                        div.col-sm-6.col-lg-3
                            div.precontent-item
                                p Change 7 Days
                                p 5.89%
        div.row
            div.col-sm-12
                div#container(style="height: 800px;")

    

    script(src='//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js')
    script(src='https://code.jquery.com/jquery-3.1.1.min.js')
    script(src='https://code.highcharts.com/stock/highstock.js')
    script(src='https://code.highcharts.com/stock/modules/exporting.js')
    script(src='https://code.highcharts.com/stock/modules/export-data.js')

    script.
      jQuery(document).ready(function($) {
          $.ajax({
              datatype: "json",
              url: "http://localhost:3000/charts/all",
          }).done(function(response) {
              buildCharts(response);
          }).fail(function() {
              console.log('Ajax failed to get chart data');
          });

          // Move to repsective file
          function buildCharts(chartData) {
              Highcharts.stockChart('container', {
                  rangeSelector: {
                      selected: 1
                  },
                  plotOptions: {
                      area: {
                          stacking: 'percent'
                      }
                  },
                  series: chartData,
                  yAxis: {
                      offset: 20
                  },
                  xAxis: {
                    type: 'datetime'
                  },
                  legend: {
                      enabled: true
                  },
                  exporting: { enabled: false }
              });
          }
      });

      

